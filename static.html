<!DOCTYPE html>
<html>
<head>
<title>static baidu map</title>
<style>
img{margin:20px;width:90%;height:auto;}
</style>
<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://api.map.baidu.com/api?v=2.0&ak=ngmntn0xA1TYOoNnrXhhTrSO"></script>
<script type="text/javascript">
var useCfApi = function (objPrm, successCallback, errorCallback, completeCallback) {
    $.ajax({
        type: 'get',
        url: 'http://cusflo.com/api/api_open.php',
        data: objPrm,
        dataType: 'jsonp',
        jsonp: "callback",
        success: function (data) {
            if (successCallback) {
                successCallback(data);
				console.log('success');
            }
        },
        error: function (data) {
            if (errorCallback) {
                errorCallback(data);
            }
        },
        complete: function (data) {
            if (completeCallback) {
                completeCallback(data);
            }
        }
    });
}
function succ(result){
	var list = result.data;
	console.log(result);
	
}
function err(data){
	console.log(data);
}
function com(data){
	console.log('api complete');
}

	// 百度地图API功能
	function myFun(result){
		var cityName = result.name;
		useCfApi({ api: "305", 'city' : cityName}, succ, err, com);
	}
	var myCity = new BMap.LocalCity();
	//这个调用是异步的
	myCity.get(myFun);
	
</script>
</head>
<body>
<img id="myshow" style="" src = "http://api.map.baidu.com/staticimage?width=400&height=200&center=110.25120566202,20.021364812826&markers=110.25120566202,20.021364812826&zoom=14&markerStyles=-1,http://api.map.baidu.com/images/marker_red.png"
alt="map" />
<br>
<img class="mapimg" src="http://api.map.baidu.com/staticimage?center=116.473205,39.958972&width=300&height=200&zoom=16&scale=2
&markers=%E5%A4%A9%E5%AE%89%E9%97%A8&markerStyles=-1,http://api.map.baidu.com/images/marker_red.png,-1,23,25">





</body>
</html>